---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import '../../styles/guide.css';

const locale = 'pt' as const;
---

<Layout title="Guia de Configura√ß√£o do N√≥ ‚Äî Mostro Community" description="Guia completo para rodar seu pr√≥prio n√≥ Mostro P2P para troca de Bitcoin." locale={locale}>
  <Header locale={locale} />

  <div class="container guide-layout">
    <nav class="toc">
      <div class="toc-title">Nesta p√°gina</div>
      <ul class="toc-list">
        <li><a href="#what-is-mostro">1. O que √© Mostro?</a></li>
        <li class="toc-h3"><a href="#why-run">Por que um n√≥?</a></li>
        <li class="toc-h3"><a href="#how-it-works">Como funciona</a></li>
        <li><a href="#prerequisites">2. Pr√©-requisitos</a></li>
        <li class="toc-h3"><a href="#vps">Servidor (VPS)</a></li>
        <li class="toc-h3"><a href="#lnd">N√≥ Lightning (LND)</a></li>
        <li class="toc-h3"><a href="#liquidity">Liquidez Lightning</a></li>
        <li class="toc-h3"><a href="#nostr-keys">Chaves Nostr</a></li>
        <li><a href="#setup">3. Instala√ß√£o passo a passo</a></li>
        <li class="toc-h3"><a href="#common-steps">Passos comuns</a></li>
        <li class="toc-h3"><a href="#option-a">Op√ß√£o A: Docker Hub</a></li>
        <li class="toc-h3"><a href="#option-b">Op√ß√£o B: Docker Build</a></li>
        <li class="toc-h3"><a href="#option-c">Op√ß√£o C: Nativo</a></li>
        <li><a href="#configuration">4. Configura√ß√£o</a></li>
        <li class="toc-h3"><a href="#fees">Taxas</a></li>
        <li class="toc-h3"><a href="#limits">Limites de ordens</a></li>
        <li class="toc-h3"><a href="#profile">Perfil do n√≥</a></li>
        <li><a href="#operating">5. Operando seu n√≥</a></li>
        <li class="toc-h3"><a href="#disputes">Disputas</a></li>
        <li class="toc-h3"><a href="#mostrix">Mostrix</a></li>
        <li class="toc-h3"><a href="#watchdog">mostro-watchdog</a></li>
      </ul>
    </nav>

    <div class="toc-mobile">
      <button class="toc-toggle" id="toc-toggle">üìë √çndice</button>
      <div class="toc-mobile-list" id="toc-mobile-list">
        <ul class="toc-list">
          <li><a href="#what-is-mostro">1. O que √© Mostro?</a></li>
          <li><a href="#prerequisites">2. Pr√©-requisitos</a></li>
          <li><a href="#setup">3. Instala√ß√£o</a></li>
          <li><a href="#configuration">4. Configura√ß√£o</a></li>
          <li><a href="#operating">5. Operando seu n√≥</a></li>
        </ul>
      </div>
    </div>

    <article class="guide-content">
      <h1>Rodando Seu Pr√≥prio N√≥ Mostro</h1>
      <p class="guide-version">Mostro v0.16.3 ‚Äî Guia da Comunidade ¬∑ Fevereiro 2026</p>

      <h2 id="what-is-mostro">1. O que √© Mostro e por que sua comunidade deveria rodar um?</h2>

      <p>Mostro √© um exchange peer-to-peer de Bitcoin que permite √†s pessoas comprar e vender Bitcoin usando moedas locais (d√≥lares, euros, reais ‚Äî qualquer moeda) sem precisar fornecer documentos de identidade (KYC). √â um mercado descentralizado onde compradores e vendedores podem negociar diretamente.</p>

      <p>Funciona usando duas tecnologias:</p>
      <ul>
        <li><strong>Lightning Network</strong> ‚Äî a camada de pagamentos r√°pidos e baratos do Bitcoin (a faixa expressa do Bitcoin para pagamentos pequenos e r√°pidos)</li>
        <li><strong>Nostr</strong> ‚Äî um protocolo de comunica√ß√£o resistente √† censura (um sistema de mensagens que ningu√©m pode desligar)</li>
      </ul>

      <p>O Mostro atua como coordenador de cust√≥dia ‚Äî ele ret√©m o Bitcoin do vendedor em um "cofre" tempor√°rio (chamado hold invoice) at√© que o comprador confirme que enviou o pagamento em moeda local. O Mostro nunca controla os fundos de ningu√©m; apenas os ret√©m brevemente durante a troca.</p>

      <h3 id="why-run">Por que sua comunidade iria querer rodar um n√≥ Mostro?</h3>
      <ul>
        <li><strong>Receita de taxas</strong> ‚Äî Cada troca gera uma taxa (0,6% padr√£o). Se sua comunidade faz $10.000 em trocas mensais, s√£o ~$60/m√™s em taxas.</li>
        <li><strong>Trading P2P sem KYC</strong> ‚Äî Os membros da sua comunidade podem comprar e vender Bitcoin sem fornecer documentos de identidade.</li>
        <li><strong>Disputas no seu idioma</strong> ‚Äî Quando uma troca d√° errado, sua comunidade resolve, no seu idioma.</li>
        <li><strong>Independ√™ncia</strong> ‚Äî Nenhuma empresa pode fechar seu exchange. Nenhum governo pode pressionar um operador √∫nico a fech√°-lo.</li>
        <li><strong>Personaliza√ß√£o</strong> ‚Äî Voc√™ escolhe quais moedas suportar, quais m√©todos de pagamento permitir e quais taxas cobrar.</li>
      </ul>

      <h3 id="how-it-works">Como funciona o Mostro (Simplificado)</h3>
      <ol>
        <li><strong>Alice quer VENDER</strong> Bitcoin por $50 USD ‚Üí Ela cria uma ordem no Mostro</li>
        <li><strong>Bob quer COMPRAR</strong> Bitcoin com $50 USD ‚Üí Ele v√™ a ordem da Alice e aceita</li>
        <li><strong>Mostro cria um "cofre"</strong> (hold invoice) ‚Üí Alice envia seu Bitcoin para o cofre</li>
        <li><strong>Bob envia $50</strong> para Alice via Pix, transfer√™ncia, dinheiro, etc. ‚Üí Bob clica "Fiat enviado"</li>
        <li><strong>Alice confirma</strong> que recebeu os $50 ‚Üí Ela clica "Liberar"</li>
        <li><strong>Mostro libera</strong> o Bitcoin do cofre para Bob ‚Üí Troca completa! ‚úì</li>
      </ol>

      <p>Se algo der errado, qualquer uma das partes pode abrir uma disputa, e os √°rbitros da sua comunidade investigam e resolvem.</p>

      <h2 id="prerequisites">2. Pr√©-requisitos ‚Äî O que voc√™ precisa antes de come√ßar</h2>

      <h3 id="vps">2.1 Um Servidor (VPS)</h3>
      <p>Um VPS (Virtual Private Server) √© um computador em um data center que funciona 24/7. Voc√™ vai alugar um para hospedar seu n√≥ Mostro.</p>

      <table class="guide-table">
        <thead><tr><th>Recurso</th><th>M√≠nimo</th><th>Recomendado</th></tr></thead>
        <tbody>
          <tr><td>CPU</td><td>2 vCPUs (compartilhadas)</td><td>2+ vCPUs</td></tr>
          <tr><td>RAM</td><td>2 GB</td><td>4 GB</td></tr>
          <tr><td>Armazenamento</td><td>60 GB SSD</td><td>100 GB SSD</td></tr>
          <tr><td>Banda</td><td>3 TB/m√™s</td><td>3+ TB/m√™s</td></tr>
          <tr><td>SO</td><td>Ubuntu 22.04+ LTS</td><td>Ubuntu 24.04 LTS</td></tr>
        </tbody>
      </table>

      <p>Custo mensal estimado: <strong>$10‚Äì$24/m√™s</strong>.</p>

      <p>Provedores VPS populares:</p>
      <ul>
        <li><a href="https://www.hostinger.com/" target="_blank" rel="noopener noreferrer">Hostinger</a> ‚Äî a partir de ~$7/m√™s ¬∑ Aceita Bitcoin</li>
        <li><a href="https://www.hetzner.com/" target="_blank" rel="noopener noreferrer">Hetzner</a> ‚Äî ‚Ç¨3,49-8/m√™s (bom custo-benef√≠cio, baseado na UE)</li>
        <li><a href="https://www.digitalocean.com/" target="_blank" rel="noopener noreferrer">Digital Ocean</a> ‚Äî $24/m√™s</li>
        <li><a href="https://www.lunanode.com/" target="_blank" rel="noopener noreferrer">Lunanode</a> ‚Äî Aceita pagamentos em Bitcoin</li>
      </ul>

      <div class="callout tip">
        <div class="callout-title">üí° Dica</div>
        <p>Muitos provedores VPS aceitam pagamentos em Bitcoin. Procure essa op√ß√£o se quiser manter consist√™ncia com a filosofia Bitcoin.</p>
      </div>

      <h3 id="lnd">2.2 Um N√≥ Lightning Network (LND)</h3>
      <p>Para rodar o Mostro, voc√™ precisa de um n√≥ LND (Lightning Network Daemon) ‚Äî o software Lightning espec√≠fico com o qual o Mostro funciona.</p>

      <table class="guide-table">
        <thead><tr><th>Op√ß√£o</th><th>Dificuldade</th><th>Custo</th><th>Notas</th></tr></thead>
        <tbody>
          <tr><td>Usar um n√≥ LND existente</td><td>F√°cil</td><td>Gr√°tis</td><td>Melhor se algu√©m j√° tem um</td></tr>
          <tr><td>Rodar LND no mesmo VPS</td><td>Dif√≠cil</td><td>Mesmo VPS + liquidez</td><td>Requer 4GB+ RAM</td></tr>
          <tr><td>Solu√ß√£o n√≥-na-caixa</td><td>M√©dio</td><td>$200-600 + liquidez</td><td>Start9, Umbrel, RaspiBlitz</td></tr>
          <tr><td>StartOS com pacote Mostro</td><td>Mais f√°cil</td><td>$300-600 + liquidez</td><td>Pacote Mostro com um clique</td></tr>
          <tr><td>Voltage.cloud</td><td>F√°cil</td><td>A partir de ~$20/m√™s</td><td>LND hospedado</td></tr>
        </tbody>
      </table>

      <div class="callout important">
        <div class="callout-title">‚ö†Ô∏è Importante</div>
        <p>O Mostro requer especificamente <strong>LND</strong> (n√£o CLN/Core Lightning, n√£o Eclair, n√£o LDK). Certifique-se de que seu n√≥ Lightning use LND.</p>
      </div>

      <p>O que voc√™ precisa do seu n√≥ LND:</p>
      <ul>
        <li>O arquivo <code>tls.cert</code> (um certificado de seguran√ßa)</li>
        <li>O arquivo <code>admin.macaroon</code> (um token de autentica√ß√£o)</li>
        <li>O endere√ßo gRPC (tipicamente <code>https://127.0.0.1:10009</code>)</li>
      </ul>

      <h3 id="liquidity">2.3 Liquidez Lightning</h3>
      <p>Para facilitar as trocas, seu n√≥ Lightning precisa de canais com Bitcoin neles.</p>

      <table class="guide-table">
        <thead><tr><th>Volume de trading</th><th>Liquidez sugerida</th><th>BTC aproximado</th></tr></thead>
        <tbody>
          <tr><td>Comunidade pequena</td><td>1‚Äì5 milh√µes de sats</td><td>0,01‚Äì0,05 BTC</td></tr>
          <tr><td>Comunidade m√©dia</td><td>5‚Äì20 milh√µes de sats</td><td>0,05‚Äì0,20 BTC</td></tr>
          <tr><td>Comunidade ativa</td><td>20‚Äì100 milh√µes de sats</td><td>0,20‚Äì1,0 BTC</td></tr>
        </tbody>
      </table>

      <div class="callout tip">
        <div class="callout-title">üí° Comece pequeno</div>
        <p>Comece pequeno, cres√ßa gradualmente. Quando os traders reportarem ordens falhando por capacidade insuficiente, esse √© o sinal para adicionar mais.</p>
      </div>

      <h3 id="nostr-keys">2.4 Chaves Nostr</h3>
      <p>Seu n√≥ Mostro precisa da sua pr√≥pria identidade na rede Nostr.</p>

      <div class="callout important">
        <div class="callout-title">‚ö†Ô∏è Importante</div>
        <p>Nunca reutilize chaves Nostr entre inst√¢ncias do Mostro. Cada n√≥ precisa da sua pr√≥pria identidade √∫nica.</p>
      </div>

      <p>Gerando chaves Nostr seguras localmente com <code>rana</code>:</p>
      <pre><code># Instalar Rust (se ainda n√£o instalado)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env

# Instalar rana - gerador local de chaves Nostr
cargo install rana

# Gerar um novo par de chaves
rana</code></pre>

      <h2 id="setup">3. Instala√ß√£o passo a passo</h2>

      <p>Todas as op√ß√µes de instala√ß√£o compartilham os mesmos primeiros passos. Depois escolha sua op√ß√£o preferida:</p>
      <ul>
        <li><strong>Op√ß√£o A (Docker Hub):</strong> Mais r√°pida. Sem compilar, sem clonar. <strong>Recomendada para a maioria.</strong></li>
        <li><strong>Op√ß√£o B (Docker Build):</strong> Construa a imagem localmente do reposit√≥rio.</li>
        <li><strong>Op√ß√£o C (Compila√ß√£o nativa):</strong> Mais controle, melhor para administradores de sistema experientes.</li>
      </ul>

      <h3 id="common-steps">Passos comuns (para todas as 3 op√ß√µes)</h3>

      <h4>Passo 1: Conecte-se ao seu VPS</h4>
      <pre><code>ssh root@ENDERECO_IP_DO_SEU_VPS</code></pre>

      <h4>Passo 2: Atualize o sistema</h4>
      <pre><code># Baixe as √∫ltimas informa√ß√µes de pacotes
apt update

# Instale todas as atualiza√ß√µes dispon√≠veis
apt upgrade -y</code></pre>

      <h4>Passo 3: Instalar Docker e Docker Compose</h4>
      <div class="callout tip">
        <div class="callout-title">üí° Nota</div>
        <p>Docker √© necess√°rio para as op√ß√µes A e B. Se compilar manualmente (Op√ß√£o C), pode pular este passo.</p>
      </div>
      <pre><code># Instale Docker com o script oficial
curl -fsSL https://get.docker.com | sh

# Verifique se Docker est√° instalado
docker --version

# Verifique Docker Compose
docker compose version</code></pre>

      <h4>Passo 4: Instalar ferramentas adicionais</h4>
      <pre><code>apt install -y git make</code></pre>

      <p>‚úÖ Passos comuns completados. Agora escolha sua op√ß√£o de instala√ß√£o:</p>

      <h3 id="option-a">Op√ß√£o A: Docker Hub (Mais r√°pida ‚Äî Recomendada)</h3>
      <p>Rode o Mostro diretamente do Docker Hub sem clonar o reposit√≥rio ou compilar.</p>

      <h4>Passo 5: Criar diret√≥rio de configura√ß√£o</h4>
      <pre><code>mkdir -p ~/mostro-config/lnd</code></pre>

      <h4>Passo 6: Obter o template de configura√ß√£o</h4>
      <pre><code>curl -sL https://raw.githubusercontent.com/MostroP2P/mostro/v0.16.3/settings.tpl.toml \
  -o ~/mostro-config/settings.toml</code></pre>

      <h4>Passo 7: Copiar credenciais LND</h4>
      <pre><code>cp /caminho/do/seu/tls.cert ~/mostro-config/lnd/tls.cert
cp /caminho/do/seu/admin.macaroon ~/mostro-config/lnd/admin.macaroon</code></pre>

      <h4>Passo 8: Editar a configura√ß√£o</h4>
      <pre><code>nano ~/mostro-config/settings.toml</code></pre>

      <p>Altera√ß√µes necess√°rias:</p>
      <pre><code>[lightning]
lnd_cert_file = '/config/lnd/tls.cert'
lnd_macaroon_file = '/config/lnd/admin.macaroon'
lnd_grpc_host = 'https://host.docker.internal:10009'

[database]
url = "sqlite:///config/mostro.db"

[nostr]
nsec_privkey = 'SUA_CHAVE_NSEC_AQUI'
relays = ['wss://relay.mostro.network', 'wss://nos.lol']

[mostro]
fee = 0.006
max_order_amount = 1000000
min_payment_amount = 100
fiat_currencies_accepted = ['USD', 'EUR', 'BRL']</code></pre>

      <h4>Passo 9: Corrigir permiss√µes</h4>
      <div class="callout important">
        <div class="callout-title">‚ö†Ô∏è Importante</div>
        <p>Evite <code>chmod 777</code>. Use o m√≠nimo de privil√©gios.</p>
      </div>
      <pre><code>sudo chown -R 1000:1000 ~/mostro-config
chmod 700 ~/mostro-config
chmod 600 ~/mostro-config/settings.toml
chmod 600 ~/mostro-config/lnd/admin.macaroon</code></pre>

      <h4>Passo 10: Rodar o container</h4>
      <p>Se LND est√° no mesmo VPS:</p>
      <pre><code>docker run -d --name mostro \
  --restart unless-stopped \
  --add-host=host.docker.internal:host-gateway \
  -v ~/mostro-config:/config \
  mostrop2p/mostro:v0.16.3</code></pre>

      <p>Se LND est√° em outro servidor:</p>
      <pre><code>docker run -d --name mostro \
  --restart unless-stopped \
  -v ~/mostro-config:/config \
  mostrop2p/mostro:v0.16.3</code></pre>

      <h4>Passo 11: Verificar os logs</h4>
      <pre><code>docker logs -f mostro</code></pre>

      <p>Procure estas mensagens:</p>
      <ul>
        <li><strong>Settings correctly loaded</strong> ‚Äî Configura√ß√£o v√°lida</li>
        <li><strong>Connected to LND</strong> ‚Äî Conex√£o Lightning bem-sucedida</li>
        <li><strong>Connected to relay</strong> ‚Äî Relay Nostr estabelecido</li>
      </ul>

      <div class="callout tip">
        <div class="callout-title">üí° Solu√ß√£o de problemas</div>
        <p>Se vir <code>Permission denied (os error 13)</code>, reaplique as permiss√µes: <code>chown -R 1000:1000 ~/mostro-config</code> e reinicie: <code>docker restart mostro</code>.</p>
      </div>

      <p>üéâ <strong>Parab√©ns!</strong> Se vir conex√µes bem-sucedidas nos logs, seu n√≥ Mostro est√° rodando!</p>

      <h4>Atualiza√ß√£o (Docker Hub)</h4>
      <pre><code>export MOSTRO_TAG=v0.16.3
docker pull mostrop2p/mostro:$MOSTRO_TAG
docker stop mostro
docker rm mostro
docker run -d --name mostro \
  --restart unless-stopped \
  --add-host=host.docker.internal:host-gateway \
  -v ~/mostro-config:/config \
  mostrop2p/mostro:$MOSTRO_TAG</code></pre>

      <div class="callout security">
        <div class="callout-title">üîí Nota de seguran√ßa</div>
        <p>Prefira tags de vers√£o expl√≠citas (ex: <code>mostrop2p/mostro:v0.16.3</code>) em vez de <code>:latest</code> para atualiza√ß√µes controladas.</p>
      </div>

      <h3 id="option-b">Op√ß√£o B: Docker Build (Construa a imagem localmente)</h3>

      <h4>Passo 5: Baixar o Mostro</h4>
      <pre><code>cd /opt
git clone https://github.com/MostroP2P/mostro.git
cd mostro</code></pre>

      <h4>Passo 6: Configurar os arquivos</h4>
      <pre><code>cd docker
mkdir -p config
cp ../settings.tpl.toml config/settings.toml</code></pre>

      <h4>Passo 7: Editar o arquivo de configura√ß√£o</h4>
      <pre><code>nano config/settings.toml</code></pre>
      <p>Edite as mesmas configura√ß√µes da Op√ß√£o A, Passo 8.</p>

      <h4>Passo 8: Construir a imagem Docker</h4>
      <pre><code>cd ..
LND_CERT_FILE=/root/.lnd/tls.cert \
LND_MACAROON_FILE=/root/.lnd/data/chain/bitcoin/mainnet/admin.macaroon \
make docker-build</code></pre>

      <h4>Passo 9: Definir senha do banco de dados (Opcional)</h4>
      <pre><code># Criar arquivo docker/.env
echo "MOSTRO_DB_PASSWORD='SuaSenhaForte'" > docker/.env</code></pre>

      <h4>Passo 10: Iniciar o Mostro</h4>
      <pre><code>make docker-up

# Verificar
docker compose -f compose.yml ps

# Ver logs
docker compose -f compose.yml logs -f mostro</code></pre>

      <p>üéâ <strong>Parab√©ns!</strong> Se vir conex√µes bem-sucedidas, seu n√≥ Mostro est√° funcionando!</p>

      <h3 id="option-c">Op√ß√£o C: Compila√ß√£o nativa (Para operadores t√©cnicos)</h3>

      <h4>Passo 5: Instalar Rust</h4>
      <pre><code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source /root/.cargo/env
rustc --version
cargo --version</code></pre>

      <div class="callout important">
        <div class="callout-title">‚ö†Ô∏è Importante</div>
        <p>N√ÉO instale Rust via <code>apt install rustc</code>. Sempre use <code>rustup</code>. O pacote do sistema √© frequentemente desatualizado.</p>
      </div>

      <h4>Passo 6: Instalar depend√™ncias de compila√ß√£o</h4>
      <pre><code>apt install -y cmake build-essential libsqlite3-dev libssl-dev \
  pkg-config git sqlite3 protobuf-compiler</code></pre>

      <h4>Passo 7: Baixar e compilar o Mostro</h4>
      <pre><code>cd /opt
git clone https://github.com/MostroP2P/mostro.git
cd mostro
cargo build --release</code></pre>

      <div class="callout tip">
        <div class="callout-title">üí° Dica</div>
        <p>Se a compila√ß√£o falhar por falta de RAM, adicione espa√ßo swap:</p>
      </div>
      <pre><code>fallocate -l 2G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile</code></pre>

      <h4>Passo 8‚Äì10: Instalar, inicializar e limpar</h4>
      <pre><code>install target/release/mostrod /usr/local/bin
cargo install sqlx-cli --version 0.6.2
./init_db.sh
cargo clean  # Libera 2+ GB</code></pre>

      <h4>Passo 11‚Äì12: Criar usu√°rio e configurar</h4>
      <pre><code>adduser --disabled-login mostro
mkdir -p /opt/mostro
cp settings.tpl.toml /opt/mostro/settings.toml
nano /opt/mostro/settings.toml</code></pre>
      <p>Edite as mesmas configura√ß√µes da Op√ß√£o A, Passo 8.</p>

      <h4>Passo 13‚Äì15: Teste, permiss√µes e servi√ßo systemd</h4>
      <pre><code># Teste de execu√ß√£o
/usr/local/bin/mostrod -d /opt/mostro

# Definir permiss√µes
chown -R mostro:mostro /opt/mostro</code></pre>

      <p>Criar o servi√ßo systemd:</p>
      <pre><code># /etc/systemd/system/mostro.service
[Unit]
Description=Mostro daemon
After=network.target

[Service]
Type=simple
User=mostro
WorkingDirectory=/home/mostro
Environment=RUST_LOG=info
ExecStart=/usr/local/bin/mostrod -d /opt/mostro
Restart=on-failure

[Install]
WantedBy=multi-user.target</code></pre>

      <pre><code>systemctl daemon-reload
systemctl enable mostro.service
systemctl start mostro.service
systemctl status mostro.service</code></pre>

      <p>üéâ <strong>Parab√©ns!</strong> Seu n√≥ Mostro est√° rodando como servi√ßo do sistema!</p>

      <h2 id="configuration">4. Configura√ß√£o em detalhe</h2>

      <h3 id="fees">4.1 Taxas ‚Äî Como voc√™ ganha receita</h3>
      <pre><code>[mostro]
fee = 0.006
dev_fee_percentage = 0.30</code></pre>

      <p><strong>Taxa de trading</strong> (<code>fee</code>): Percentual cobrado por troca, dividido entre comprador e vendedor.</p>
      <ul>
        <li><code>0.006</code> = 0,6% (cada parte paga 0,3%)</li>
        <li><code>0.01</code> = 1,0% (cada parte paga 0,5%)</li>
        <li><code>0</code> = gratuito (bom para crescer sua base de usu√°rios)</li>
      </ul>

      <p><strong>Taxa de desenvolvimento</strong> (<code>dev_fee_percentage</code>): Um percentual da sua receita de taxas destinado ao desenvolvimento do Mostro.</p>
      <ul>
        <li><code>0.30</code> = 30% (padr√£o) ‚Äî de 600 sats, 180 v√£o para o fundo de desenvolvimento</li>
        <li>M√≠nimo: 10%, M√°ximo: 100%</li>
        <li>Todos os pagamentos verific√°veis publicamente via eventos Nostr (kind 8383)</li>
      </ul>

      <h3 id="limits">4.2 Limites de ordens e moedas</h3>
      <pre><code>[mostro]
max_order_amount = 1000000
min_payment_amount = 100
fiat_currencies_accepted = ['USD', 'EUR', 'BRL', 'ARS']</code></pre>

      <h3 id="profile">4.3 Perfil do n√≥ (Opcional mas recomendado)</h3>
      <pre><code>[mostro]
name = "Brasil Mostro"
about = "Exchange P2P de Bitcoin para o Brasil. Suporte em portugu√™s."
picture = "https://example.com/your-logo.png"
website = "https://your-community-site.com"</code></pre>

      <h3>4.4 Tempos e expira√ß√£o</h3>
      <pre><code>[mostro]
expiration_hours = 24        # Quanto tempo uma ordem fica aberta
expiration_seconds = 900     # Tempo para completar (15 min)
hold_invoice_expiration_window = 300  # Validade da hold invoice (5 min)</code></pre>

      <h3>4.5 Anti-Spam</h3>
      <pre><code>[mostro]
pow = 0  # 0 = desabilitado; 10-20 = moderado. Comece com 0.</code></pre>

      <h2 id="operating">5. Operando seu n√≥ Mostro</h2>

      <h3 id="disputes">5.1 Como funcionam as disputas</h3>
      <p>Disputas s√£o sua responsabilidade operacional mais importante.</p>

      <p><strong>Quando disputas acontecem?</strong></p>
      <ul>
        <li>Comprador diz que pagou, vendedor diz que n√£o recebeu</li>
        <li>Vendedor se recusa a liberar Bitcoin ap√≥s receber pagamento</li>
        <li>Uma das partes para de responder</li>
      </ul>

      <p><strong>O processo de disputa:</strong></p>
      <ol>
        <li><strong>Usu√°rio abre uma disputa</strong> ‚Äî Uma das partes clica "Disputa" no cliente</li>
        <li><strong>Mostro sinaliza a ordem</strong> ‚Äî Status muda para "Disputa", fundos permanecem bloqueados</li>
        <li><strong>√Årbitro assume o caso</strong> ‚Äî Um admin designado ao seu n√≥ investiga</li>
        <li><strong>Investiga√ß√£o</strong> ‚Äî Comunica-se com ambas as partes, solicita evid√™ncias</li>
        <li><strong>Resolu√ß√£o</strong> ‚Äî √Årbitro decide: liberar ao comprador, ou devolver ao vendedor</li>
      </ol>

      <div class="callout important">
        <div class="callout-title">‚ö†Ô∏è Importante</div>
        <p>Escolha √°rbitros com cuidado. Eles t√™m poder de decidir para onde v√£o os fundos bloqueados. Escolha membros confi√°veis e imparciais da comunidade. Recomenda-se 2-3 √°rbitros.</p>
      </div>

      <h3 id="mostrix">5.2 Mostrix ‚Äî Sua ferramenta de administra√ß√£o</h3>
      <p>Mostrix √© um cliente baseado em terminal (TUI) para resolu√ß√£o de disputas. Se voc√™ roda um n√≥ Mostro, precisa do Mostrix.</p>

      <pre><code># Instalar depend√™ncias
sudo apt install -y cmake build-essential pkg-config

# Clonar e compilar
git clone https://github.com/MostroP2P/mostrix.git
cd mostrix
cargo build --release
cargo run</code></pre>

      <p>Configurar Mostrix em modo admin em <code>~/.mostrix/settings.toml</code>:</p>
      <pre><code>mostro_pubkey = "SUA_PUBKEY_MOSTRO_HEX"
nsec_privkey = "nsec1sua_chave_pessoal"
admin_privkey = "nsec1sua_chave_admin"
relays = ["wss://relay.mostro.network", "wss://nos.lol"]
currencies = ["USD", "EUR", "BRL"]
user_mode = "admin"</code></pre>

      <h3 id="watchdog">5.3 mostro-watchdog ‚Äî Notifica√ß√µes de disputas</h3>
      <p><code>mostro-watchdog</code> monitora seu n√≥ Mostro para disputas e envia alertas instant√¢neos no Telegram. Essencial para tempos de resposta r√°pidos.</p>

      <pre><code>git clone https://github.com/MostroP2P/mostro-watchdog.git
cd mostro-watchdog
cargo build --release
cp config.example.toml config.toml
nano config.toml</code></pre>

      <pre><code>[mostro]
pubkey = "SUA_PUBKEY_MOSTRO"

[nostr]
relays = ["wss://relay.mostro.network", "wss://nos.lol"]

[telegram]
bot_token = "SEU_BOT_TOKEN"
chat_id = "SEU_CHAT_ID"</code></pre>

      <div class="callout tip">
        <div class="callout-title">üí° Dica</div>
        <p>Rode <code>mostro-watchdog</code> como servi√ßo systemd junto com seu n√≥ Mostro para monitoramento 24/7.</p>
      </div>

      <pre><code>./target/release/mostro-watchdog</code></pre>

      <p style="text-align:center; margin-top:48px; font-size:1.2rem;">üéâ <strong>Tudo pronto! Bem-vindo √† rede Mostro.</strong></p>
    </article>
  </div>

  <Footer locale={locale} />
</Layout>

<script>
  document.getElementById('toc-toggle')?.addEventListener('click', () => {
    document.getElementById('toc-mobile-list')?.classList.toggle('open');
  });
</script>
